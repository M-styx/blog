<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		ul{
			margin: 0;
			padding: 0;
		}
		li{
			list-style: none;
			float: left;
			width: 50px;
			height: 70px;
			overflow: hidden;
			position: relative;
		}
		div{
			position: absolute;
			top: 0;
		}
		img{
			vertical-align: top;
		}
	</style>
	<script type="text/javascript" src="js/tween.js"></script>
	<script type="text/javascript" src="js/mTween.js"></script>
</head>
<body>
	<ul>
		<li>
			<div>
				<img src="" alt="">
				<span><img src="img/0.jpg" alt=""></span>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="">
				<span><img src="img/0.jpg" alt=""></span>
			</div>
		</li>
		<li>
			<img src="img/c.jpg" alt="">
		</li>
		<li>
			<div>
				<img src="" alt="">
				<span><img src="img/0.jpg" alt=""></span>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="">
				<span><img src="img/0.jpg" alt=""></span>
			</div>
		</li>
		<li>
			<img src="img/c.jpg" alt="">
		</li>
		<li>
			<div>
				<img src="" alt="">
				<span><img src="img/0.jpg" alt=""></span>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="">
				<span><img src="img/0.jpg" alt=""></span>
			</div>
		</li>
	</ul>
	<script type="text/javascript"> 
		var divs = document.getElementsByTagName('div');
		var imgs = document.querySelectorAll('div>img');
		var imgs1 = document.querySelectorAll('div span img');
		var imgs2 = document.querySelectorAll('li>img');
		console.log(imgs1);
		// 调用默认函数
		tu();
		// 自动循环
		setInterval(function(){
			// 调用循环函数
			fn();
			// 初始
			for(var i=0;i<imgs2.length;i++){
				imgs2[i].src = 'img/c.jpg';
			}
			setTimeout(function(){
				for(var i=0;i<imgs2.length;i++){
					imgs2[i].src = 'img/b.jpg';
				}
			}, 500)
		}, 1000);
		function toTwo(n){
			return n<10? '0'+n:''+n;
		}
		// 设置的默认函数
		function tu(){
			// 获取时间
			var date = new Date();
			var h = date.getHours();
			var m = date.getMinutes();
			var s = date.getSeconds();
			// 把时间组成字符串
			var time = toTwo(h)+toTwo(m)+toTwo(s);
			for (var i = 0; i < time.length; i++) {
				imgs[i].src = 'img/'+time[i]+'.jpg';
			};
		}
		// 
		function fn(){
			var date = new Date();
			var h = date.getHours();
			var m = date.getMinutes();
			var s = date.getSeconds();
			var time = toTwo(h)+toTwo(m)+toTwo(s);
			for(var i=0;i<time.length;i++){
				(function(n){
					imgs1[n].src = 'img/'+time[n]+'.jpg';
					if(imgs1[n].src == imgs[n].src){
						return
					}
					mTween(divs[n],'top',-70,300,'linear',function(){
						imgs[n].src = 'img/'+time[n]+'.jpg';
						divs[n].style.top = '0px';
					})
				})(i)
			}

		}
	</script>
</body>
</html>